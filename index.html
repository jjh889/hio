<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIO - 스크린 골프 방배정</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}body{font-family:'Arial',sans-serif;line-height:1.6;background-color:#f5f5f5;color:#333;height:100vh;overflow:hidden}.container{max-width:1200px;margin:0 auto;padding:20px;height:100vh;display:flex;gap:20px}@media (max-width:768px){.container{flex-direction:column;height:auto;overflow-y:auto;padding:10px}}.left-section{flex:1;display:flex;flex-direction:column;min-width:0}@media (max-width:768px){.left-section{flex:none}}.right-section{flex:1;min-width:0}@media (max-width:768px){.right-section{flex:none}}h1{text-align:center;color:#2c3e50;margin-bottom:20px;font-size:1.8rem}h2{color:#2c3e50;margin:10px 0;font-size:1.4rem}.input-section{background:#fff;padding:15px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1);margin-bottom:15px}.player-input{margin-bottom:10px}label{display:block;margin-bottom:5px;font-weight:700;font-size:.9rem}textarea{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;margin-bottom:10px;font-size:.9rem;resize:vertical;min-height:200px;font-family:inherit}input[type="number"],input[type="password"]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;margin-bottom:10px;font-size:.9rem}button{background-color:#3498db;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;transition:background-color .3s;font-size:.9rem}button:hover{background-color:#2980b9}.player-list{background:#fff;padding:15px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1);margin-bottom:15px;flex:1;overflow-y:auto}@media (max-width:768px){.player-list{max-height:300px}}#playerList{list-style:none}#playerList li{padding:6px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center;font-size:.9rem}.controls{display:flex;gap:8px;margin-bottom:15px;flex-wrap:wrap}.result-section{background:#fff;padding:15px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1);height:100%;overflow-y:auto}@media (max-width:768px){.result-section{max-height:400px}}.group{margin-bottom:15px;padding:10px;background:#f8f9fa;border-radius:4px;border-left:4px solid #3498db}.group h3{color:#2c3e50;margin-bottom:8px;font-size:1.1rem}.group ul{list-style:none;font-size:.9rem}.group li{padding:4px 0;display:flex;align-items:center}.group li:before{content:"•";color:#3498db;margin-right:8px}.login-container{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:1000}.login-box{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.1);width:300px;text-align:center}.login-box h2{margin-bottom:20px}.login-box input{margin-bottom:15px}.login-box button{width:100%}.error-message{color:#e74c3c;margin-top:10px;font-size:.9rem}.hidden{display:none}
    </style>
</head>
<body>
    <div class="login-container" id="loginContainer">
        <div class="login-box">
            <h2>HIO - 스크린 골프 방배정</h2>
            <input type="password" id="password" placeholder="비밀번호를 입력하세요">
            <button onclick="checkPassword()">로그인</button>
            <div id="errorMessage" class="error-message"></div>
        </div>
    </div>

    <div class="container hidden" id="mainContainer">
        <div class="left-section">
            <h1>HIO - 스크린 골프 방배정</h1>
            
            <div class="input-section">
                <div class="group-input">
                    <label for="groupSize">조 인원 수:</label>
                    <input type="number" id="groupSize" min="2" value="3">
                </div>
                <div class="player-input">
                    <label for="playerNames">참가자 이름 (한 줄에 한 명씩 입력):</label>
                    <textarea id="playerNames" rows="15" placeholder="이름을 한 줄에 한 명씩 입력하세요"></textarea>
                    <button onclick="addPlayers()">추가</button>
                </div>
            </div>

            <div class="player-list">
                <h2>참가자 목록</h2>
                <ul id="playerList"></ul>
            </div>

            <div class="controls">
                <button onclick="assignGroups()">조 짜기</button>
                <button onclick="shufflePlayers()">섞기</button>
                <button onclick="saveAsImage()">이미지 저장</button>
                <button onclick="resetAll()">초기화</button>
            </div>
        </div>

        <div class="right-section">
            <div class="result-section">
                <h2>조 편성 결과</h2>
                <div id="roomResult"></div>
            </div>
        </div>
    </div>
    <script>
        const PASSWORD="hio321";function checkPassword(){const e=document.getElementById("password").value;if(e===PASSWORD){document.getElementById("loginContainer").classList.add("hidden"),document.getElementById("mainContainer").classList.remove("hidden")}else document.getElementById("errorMessage").textContent="비밀번호가 일치하지 않습니다."}document.getElementById("password").addEventListener("keypress",e=>{"Enter"===e.key&&checkPassword()});let players=[];function addPlayers(){const e=document.getElementById("playerNames");const t=e.value.trim().split("\n").map(e=>e.trim()).filter(e=>e.length>0);t.length>0&&(players=[...new Set([...players,...t])],updatePlayerList(),e.value="")}function updatePlayerList(){const e=document.getElementById("playerList");e.innerHTML="",players.forEach((t,n)=>{const o=document.createElement("li");o.innerHTML=`<span>${t}</span><button onclick="removePlayer(${n})">삭제</button>`,e.appendChild(o)})}function removePlayer(e){players.splice(e,1),updatePlayerList()}function shufflePlayers(){for(let e=players.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[players[e],players[t]]=[players[t],players[e]]}updatePlayerList()}function assignGroups(){if(0===players.length)return void alert("플레이어를 추가해주세요.");const e=parseInt(document.getElementById("groupSize").value);if(e<2)return void alert("조 인원 수는 2명 이상이어야 합니다.");const t=[...players];for(let n=t.length-1;n>0;n--){const o=Math.floor(Math.random()*(n+1));[t[n],t[o]]=[t[o],t[n]]}const n=[];for(let o=0;o<t.length;o+=e)n.push(t.slice(o,o+e));displayGroupResult(n)}function displayGroupResult(e){const t=document.getElementById("roomResult");t.innerHTML="",e.forEach((e,n)=>{const o=document.createElement("div");o.className="group",o.innerHTML=`<h3>조 ${n+1} (${e.length}명)</h3><ul>${e.map(e=>`<li>${e}</li>`).join("")}</ul>`,t.appendChild(o)})}function resetAll(){players=[],document.getElementById("playerNames").value="",document.getElementById("groupSize").value="3",document.getElementById("playerList").innerHTML="",document.getElementById("roomResult").innerHTML=""}function saveAsImage(){const e=document.getElementById("roomResult");if(!e.children.length)return void alert("조 편성 결과가 없습니다.");html2canvas(e,{backgroundColor:"#ffffff"}).then(e=>{const t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download="조편성결과.png",t.click()})}
    </script>
</body>
</html> 